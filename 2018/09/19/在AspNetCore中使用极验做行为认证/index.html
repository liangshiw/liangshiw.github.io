<!DOCTYPE html><html lang="zh-cn"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><title>在AspNetCore中使用极验做行为认证 | liangsw</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="author" content="[object Object]"><meta name="designer" content="liangsw"><meta name="keywords" content="netcore, net, 梁士伟, liangshiwei, 程序员, 后端开发, 全栈开发"><meta name="description" content="我叫梁士伟,专注.Net最佳实践。实践毋庸置疑,我们生来就具有基因所赋予的做出各种行为的潜能,但这些潜能变成实际能力的方式取决于我们所受的训练,取决于学习"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=yes"><meta name="mobile-web-app-capable" content="yes"><meta name="robots" content="all"><link rel="canonical" href="https://liangsw.me/2018/09/19/在AspNetCore中使用极验做行为认证/index.html"><link rel="icon" type="image/png" href="/img/favicon.ico" sizes="32x32"><link rel="stylesheet" href="/scss/base/index.css"><link rel="alternate" href="/atom.xml" title="liangsw"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?5eba754c0c03b69141924e36e27a68c9";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-124492593-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-124492593-1")</script><link rel="stylesheet" href="/scss/views/page/post.css"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"><link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body ontouchstart><div id="page-loading" class="page page-loading" style="background-image:url(https://img2018.cnblogs.com/blog/832799/201901/832799-20190116134700976-47612090.gif)"></div><div id="page" class="page js-hidden"><header class="page__small-header page__header--small"><nav class="page__navbar"><div class="page__container navbar-container"><nav class="page__nav"><ul class="nav__list clearfix"><li class="nav__item"><a href="/" alt="首页" title="首页">首页</a></li><li class="nav__item"><a href="/archives" alt="归档" title="归档">归档</a></li><li class="nav__item"><a href="/about" alt="关于" title="关于">关于</a></li></ul></nav><button class="page__menu-btn" type="button"><i class="iconfont icon-menu"></i></button></div></nav></header><main class="page__container page__main"><div class="page__content"><article class="page__post"><div class="post__cover"><img src="https://img2018.cnblogs.com/blog/832799/201901/832799-20190116134451264-1396688658.png" referrerpolicy="no-referrer" alt="在AspNetCore中使用极验做行为认证"></div><header class="post__info"><h1 class="post__title">在AspNetCore中使用极验做行为认证</h1><div class="post__mark"><div class="mark__block"><i class="mark__icon iconfont icon-write"></i><ul class="mark__list clearfix"><li class="mark__item"><a href="/">梁士伟</a></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-time"></i><ul class="mark__list clearfix"><li class="mark__item"><span>2018-09-19</span></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-tab"></i><ul class="mark__list clearfix"><li class="mark__item"><a href="/tags/geetest/">Geetest</a></li><li class="mark__item"><a href="/tags/极验/">极验</a></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-eye"></i><ul class="mark__list clearfix"><li id="busuanzi_container_page_pv" class="mark__item"><span id="busuanzi_value_page_pv"></span>次</li></ul></div></div></header><div class="post__content"><h2 id="先上效果图"><a href="#先上效果图" class="headerlink" title="先上效果图"></a>先上效果图</h2><p><img src="https://img2018.cnblogs.com/blog/832799/201901/832799-20190116134504182-1378500865.gif" referrerpolicy="no-referrer"></p><h1 id="极验的流程"><a href="#极验的流程" class="headerlink" title="极验的流程"></a>极验的流程</h1><p>极验官方文档地址 <a href="https://docs.geetest.com/install/deploy/server/csharp" target="_blank" rel="noopener">https://docs.geetest.com/install/deploy/server/csharp</a></p><p>简单说明一下极验的验证流程</p><p>引用官方的图片<br><img src="https://docs.geetest.com/static/install/overview/imgs/geetest_netwoking_sequence.jpg" alt></p><ul><li>向服务器发送请求获取验证参数</li><li>客户端sdk完成验证</li><li>由客户端sdk验证数据提交服务器二次验证</li></ul><h1 id="在netcore中使用极验"><a href="#在netcore中使用极验" class="headerlink" title="在netcore中使用极验"></a>在netcore中使用极验</h1><p>在我查看官方的sdk过后,发现不是特别好用，根据极验的流程写了一套适用于netcore的极验sdk <a href="https://github.com/liangshiw/SharpPlugs/tree/master/src/SharpPlug.Geetest" target="_blank" rel="noopener">开源地址</a> 已经发了nuget包 搜索<code>sharpplug.geetest</code>即可</p><p>使用方式很简单，下面通过一个例子来进行讲解</p><p>使用命令<code>dotnet new mvc</code>创建一个mvc项目</p><p>下一步使用命令<code>dotnet add package sharpplug.geetest</code>安装nuget包</p><p>打开startup文件在ConfigureServices中配置geetest服务<br>我在极验申请了一个测试用的id和key 大家可以直接测试使用</p><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">ConfigureServices</span><span class="token punctuation">(</span>IServiceCollection services<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    services<span class="token punctuation">.</span><span class="token generic-method function">Configure<span class="token punctuation">&lt;</span>CookiePolicyOptions<span class="token punctuation">></span></span><span class="token punctuation">(</span>options <span class="token operator">=</span><span class="token operator">></span>
    <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// This lambda determines whether user consent for non-essential cookies is needed for a given request.</span>
        options<span class="token punctuation">.</span>CheckConsentNeeded <span class="token operator">=</span> context <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">true</span><span class="token punctuation">;</span>
        options<span class="token punctuation">.</span>MinimumSameSitePolicy <span class="token operator">=</span> SameSiteMode<span class="token punctuation">.</span>None<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// GeetestOptions中配置id 与 key</span>
    services<span class="token punctuation">.</span><span class="token function">AddGeetest</span><span class="token punctuation">(</span>opt<span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>
               opt<span class="token punctuation">.</span>Id <span class="token operator">=</span> <span class="token string">"e2697c763685a34be93a7d255ee06b59"</span><span class="token punctuation">;</span>
               opt<span class="token punctuation">.</span>Key <span class="token operator">=</span> <span class="token string">"7882a2d954106041a731f5e10038982a"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    services<span class="token punctuation">.</span><span class="token function">AddMvc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">SetCompatibilityVersion</span><span class="token punctuation">(</span>CompatibilityVersion<span class="token punctuation">.</span>Version_2_1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>完成获取验证参数与二次验证的类是GeetestManager,它主要有两个方法</p><p>获取验证参数方法是Register,它主要有三个参数 userid（用户标识） clientType(客户端类型) 与 ipaddress(客户端ip) 关于参数的细节大家可以去参阅极验文档</p><pre class="line-numbers language-csharp"><code class="language-csharp">Task<span class="token operator">&lt;</span>GeeTestRegisterResult<span class="token operator">></span> <span class="token function">Register</span><span class="token punctuation">(</span><span class="token keyword">string</span> userId <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">string</span> clientType <span class="token operator">=</span> <span class="token string">"unknown"</span><span class="token punctuation">,</span> <span class="token keyword">string</span> ipAddress <span class="token operator">=</span> <span class="token string">"unknown"</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>二次验证方法 Validate 参数为</p><ul><li>offline 是否离线验证（获取验证参数失败时）</li><li>UserId 用户标识</li><li>Challenge</li><li>Seccode</li><li>Validate</li></ul><pre class="line-numbers language-csharp"><code class="language-csharp">Task<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">></span> <span class="token function">Validate</span><span class="token punctuation">(</span>GeetestValidateInput input<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>下面打开HomeController添加获取验证参数方法,记得注入GeetestManager</p><pre class="line-numbers language-csharp"><code class="language-csharp">
<span class="token keyword">private</span> <span class="token keyword">readonly</span> GeetestManager _geetestManager<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token function">HomeController</span><span class="token punctuation">(</span>GeetestManager geetestManager<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    _geetestManager <span class="token operator">=</span> geetestManager<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">async</span> Task<span class="token operator">&lt;</span>GeeTestRegisterResult<span class="token operator">></span> <span class="token function">GeetestRegister</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> _geetestManager<span class="token punctuation">.</span><span class="token function">Register</span><span class="token punctuation">(</span>clientType<span class="token punctuation">:</span> <span class="token string">"web"</span><span class="token punctuation">,</span> ipAddress<span class="token punctuation">:</span> <span class="token string">"127.0.0.1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>下面在HomeController中加入二次验证</p><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">async</span> Task<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">></span> <span class="token function">GeetestValidate</span><span class="token punctuation">(</span>GeetestValidateInput input<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> _geetestManager<span class="token punctuation">.</span><span class="token function">Validate</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>服务端部分已经完成,下面打开index.cshtml先引用gt.js</p><p><code>&lt;script type=&quot;text/javascript&quot; src=&quot;https://static.geetest.com/static/tools/gt.js&quot;&gt;&lt;/script&gt;</code></p><p>然后添加html元素</p><pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Getest<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>geetestform<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>geetest_challenge<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>geetest_challenge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>geetest_validate<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>geetest_validate<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>geetest_seccode<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>geetest_seccode<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>form-control btn-default<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>validate<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点我验证<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>极验有一个初始化的过程,先调用获取验证参数api进行初始化极验</p><pre class="line-numbers language-js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token punctuation">:</span> <span class="token string">"/home/GeetestRegister"</span><span class="token punctuation">,</span>
        type<span class="token punctuation">:</span> <span class="token string">"get"</span><span class="token punctuation">,</span>
        dataType<span class="token punctuation">:</span> <span class="token string">"json"</span><span class="token punctuation">,</span>
        success<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// 使用offline判断是否是离线验证</span>
            offline <span class="token operator">=</span> <span class="token operator">!</span>data<span class="token punctuation">.</span>success<span class="token punctuation">;</span>
            <span class="token function">initGeetest</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// 以下配置参数来自服务端 SDK</span>
                gt<span class="token punctuation">:</span> data<span class="token punctuation">.</span>gt<span class="token punctuation">,</span>
                challenge<span class="token punctuation">:</span> data<span class="token punctuation">.</span>challenge<span class="token punctuation">,</span>
                offline<span class="token punctuation">:</span> <span class="token operator">!</span>data<span class="token punctuation">.</span>success<span class="token punctuation">,</span>
                new_captcha<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                product<span class="token punctuation">:</span> <span class="token string">"float"</span><span class="token punctuation">,</span>
                width<span class="token punctuation">:</span> <span class="token string">"100%"</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// 初始化元素</span>
                captchaObj<span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'geetestform'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>这时运行项目已经可以看到极验的验证表单了并且已经可以进行验证,但是还需要添加点击按钮事件进行二次验证</p><pre class="line-numbers language-js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#validate"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> validate <span class="token operator">=</span> captchaObj<span class="token punctuation">.</span><span class="token function">getValidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>validate <span class="token operator">===</span> undefined <span class="token operator">||</span> <span class="token operator">!</span>validate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请进行验证"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token punctuation">:</span> <span class="token string">"/home/GeetestValidate"</span><span class="token punctuation">,</span>
        method<span class="token punctuation">:</span><span class="token string">"post"</span><span class="token punctuation">,</span>
        data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            offline<span class="token punctuation">:</span> offline<span class="token punctuation">,</span>
            challenge<span class="token punctuation">:</span> validate<span class="token punctuation">.</span>geetest_challenge<span class="token punctuation">,</span>
            validate<span class="token punctuation">:</span> validate<span class="token punctuation">.</span>geetest_validate<span class="token punctuation">,</span>
            seccode<span class="token punctuation">:</span> validate<span class="token punctuation">.</span>geetest_seccode
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        success<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"二次校验状态成功! 重置验证状态"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                captchaObj<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"二次校验状态返回失败! 重置验证状态"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                captchaObj<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>这时功能已经全部完成了,大家可以运行项目查看效果了,关于gt.js的更多用法可以参阅极验的官方文档</p><div class="post-announce">感谢您的阅读，本文由 <a href="https://liangsw.me">liangsw</a> 版权所有。如若转载，请注明出处：liangsw（<a href="https://liangsw.me/2018/09/19/在AspNetCore中使用极验做行为认证/">https://liangsw.me/2018/09/19/在AspNetCore中使用极验做行为认证/</a>）</div><div class="post__prevs"><div class="post__prev"><a href="/2018/08/24/Asp.Net Core 2.2.0-preview1已经发布/" title="Asp.Net Core2.2.0-preview1已经发布"><i class="iconfont icon-prev"></i>Asp.Net Core2.2.0-preview1已经发布</a></div><div class="post__prev post__prev--right"><a href="/2018/10/24/wsl use docker/" title="wsl use Docker">wsl use Docker<i class="iconfont icon-next"></i></a></div></div></div></article><div id="disqus_thread"></div></div><aside class="page__sidebar"><form id="page-search-from" class="page__search-from" action="/search/"><label class="search-form__item"><input class="input" type="text" name="search" placeholder="Search..."> <i class="iconfont icon-search"></i></label></form><div class="sidebar__block"><h3 class="block__title">简介</h3><p class="block__text">我叫梁士伟,专注.Net最佳实践。实践毋庸置疑,我们生来就具有基因所赋予的做出各种行为的潜能,但这些潜能变成实际能力的方式取决于我们所受的训练,取决于学习</p></div><div class="sidebar__block"><h3 class="block__title">文章分类</h3><ul class="block-list"><li class="block-list-item"><a class="block-list-link" href="/categories/SharpPlugs/">SharpPlugs</a><span class="block-list-count">1</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/MVC5实战/">MVC5实战</a><span class="block-list-count">13</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/Exceptionless/">Exceptionless</a><span class="block-list-count">3</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/Entity-Framework/">Entity Framework</a><span class="block-list-count">4</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/Docker/">Docker</a><span class="block-list-count">1</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/C-基础深入/">C#基础深入</a><span class="block-list-count">10</span></li></ul></div><div class="sidebar__block"><h3 class="block__title">最新文章</h3><ul class="block-list latest-post-list"><li class="latest-post-item"><a href="/2019/05/07/Loadingrelateddata/" title="加载相关数据"><div class="item__cover"><img src="https://img2018.cnblogs.com/blog/832799/201901/832799-20190125092509730-966061697.png" alt="加载相关数据"></div><div class="item__info"><h3 class="item__title">加载相关数据</h3><span class="item__text">2019-05-07</span></div></a></li><li class="latest-post-item"><a href="/2019/04/26/Understandingdatabasequeries/" title="理解EF Core数据库查询"><div class="item__cover"><img src="https://img2018.cnblogs.com/blog/832799/201901/832799-20190125092509730-966061697.png" alt="理解EF Core数据库查询"></div><div class="item__info"><h3 class="item__title">理解EF Core数据库查询</h3><span class="item__text">2019-04-26</span></div></a></li><li class="latest-post-item"><a href="/2019/04/25/Creatingtheapplication’sDbContext/" title="创建应用程序的DbContext"><div class="item__cover"><img src="https://img2018.cnblogs.com/blog/832799/201901/832799-20190125092509730-966061697.png" alt="创建应用程序的DbContext"></div><div class="item__info"><h3 class="item__title">创建应用程序的DbContext</h3><span class="item__text">2019-04-25</span></div></a></li><li class="latest-post-item"><a href="/2019/04/24/Settingthesceneourbook-sellingsite/" title="设置一个图书销售网站的场景"><div class="item__cover"><img src="https://img2018.cnblogs.com/blog/832799/201901/832799-20190125092509730-966061697.png" alt="设置一个图书销售网站的场景"></div><div class="item__info"><h3 class="item__title">设置一个图书销售网站的场景</h3><span class="item__text">2019-04-24</span></div></a></li></ul></div><div class="sidebar__block"><h3 class="block__title">文章标签</h3><ul class="block-list tag-list clearfix"><li class="tag-item"><a class="tag-link" href="/tags/ABP/">ABP</a></li><li class="tag-item"><a class="tag-link" href="/tags/AngularJS2/">AngularJS2</a></li><li class="tag-item"><a class="tag-link" href="/tags/AspNetCore/">AspNetCore</a></li><li class="tag-item"><a class="tag-link" href="/tags/C-基础深入/">C#基础深入</a></li><li class="tag-item"><a class="tag-link" href="/tags/CodeFirst/">CodeFirst</a></li><li class="tag-item"><a class="tag-link" href="/tags/Entity-Framework/">Entity Framework</a></li><li class="tag-item"><a class="tag-link" href="/tags/Entity-Framework-Core/">Entity Framework Core</a></li><li class="tag-item"><a class="tag-link" href="/tags/EventBus/">EventBus</a></li><li class="tag-item"><a class="tag-link" href="/tags/ExceptionLess/">ExceptionLess</a></li><li class="tag-item"><a class="tag-link" href="/tags/MVC/">MVC</a></li><li class="tag-item"><a class="tag-link" href="/tags/Newtonsoft-Json/">Newtonsoft.Json</a></li><li class="tag-item"><a class="tag-link" href="/tags/RabbitMQ/">RabbitMQ</a></li><li class="tag-item"><a class="tag-link" href="/tags/SignalR/">SignalR</a></li><li class="tag-item"><a class="tag-link" href="/tags/TypeScript/">TypeScript</a></li><li class="tag-item"><a class="tag-link" href="/tags/aspnetcore/">aspnetcore</a></li><li class="tag-item"><a class="tag-link" href="/tags/docker/">docker</a></li><li class="tag-item"><a class="tag-link" href="/tags/eShopOnContainers/">eShopOnContainers</a></li><li class="tag-item"><a class="tag-link" href="/tags/geetest/">geetest</a></li><li class="tag-item"><a class="tag-link" href="/tags/logdashboard/">logdashboard</a></li><li class="tag-item"><a class="tag-link" href="/tags/wsl/">wsl</a></li><li class="tag-item"><a class="tag-link" href="/tags/小程序/">小程序</a></li><li class="tag-item"><a class="tag-link" href="/tags/异常日志/">异常日志</a></li><li class="tag-item"><a class="tag-link" href="/tags/异步编程/">异步编程</a></li><li class="tag-item"><a class="tag-link" href="/tags/极验/">极验</a></li><li class="tag-item"><a class="tag-link" href="/tags/翻译/">翻译</a></li><li class="tag-item"><a class="tag-link" href="/tags/设计模式/">设计模式</a></li><li class="tag-item"><a class="tag-link" href="/tags/项目经验/">项目经验</a></li></ul></div></aside></main><footer class="page__footer"><section class="footer__top"><div class="page__container footer__container"><div class="footer-top__item footer-top__item--2"><h3 class="item__title">关于</h3><div class="item__content"><p class="item__text">梁士伟</p><ul class="footer__contact-info"><li class="contact-info__item"><i class="iconfont icon-address"></i> <span>BeiJing, China</span></li><li class="contact-info__item"><i class="iconfont icon-email2"></i> <span>liangshiw@outlook.com</span></li></ul></div></div><div class="footer-top__item footer__image"><img src="https://img2018.cnblogs.com/blog/832799/201901/832799-20190116134451377-762296667.jpg" referrerpolicy="no-referrer" alt="logo" title="liangsw"></div><div class="footer-top__item"><h3 class="item__title">友情链接</h3><div class="item__content"><ul class="footer-top__list"><li class="list-item"><a href="https://maliming.github.io/" title="malimingBlog" target="_blank">malimingBlog</a></li></ul></div></div></div></section><section class="footer__bottom"><div class="page__container footer__container"><p class="footer__copyright"></p><ul class="footer__social-network clearfix"><li class="social-network__item"><a href="https://github.com/liangshiw" target="_blank" title="github"><i class="iconfont icon-github"></i></a></li><li class="social-network__item"><a href="https://www.zhihu.com/people/bian-cheng-meng/activities" target="_blank" title="zhihu"><i class="iconfont icon-zhihu"></i></a></li><li class="social-network__item"><a href="https://www.douban.com/people/169679237/" target="_blank" title="douban"><i class="iconfont icon-douban"></i></a></li><li class="social-network__item"><a href="https://www.linkedin.com/in/%E5%A3%AB%E4%BC%9F-%E6%A2%81-338999145/" target="_blank" title="linkedin"><i class="iconfont icon-in"></i></a></li><li class="social-network__item"><a href="liangshiw@outlook.com" target="_blank" title="email"><i class="iconfont icon-email"></i></a></li></ul></div></section></footer><div id="back-top" class="back-top back-top--hidden js-hidden"><i class="iconfont icon-top"></i></div></div><script src="/js/common.js"></script><script src="/js/page/post.js"></script><script>var disqus_shortname="http-liangsw-me",disqus_config=function(){this.page.url="https://liangsw.me/2018/09/19/在AspNetCore中使用极验做行为认证/",this.page.identifier="/2018/09/19/在AspNetCore中使用极验做行为认证/",this.page.title="在AspNetCore中使用极验做行为认证"};!function(){var t=document,e=t.createElement("script");e.src="https://"+disqus_shortname+".disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></body></html>